arrange(desc(dep_delay))
#carrier HA has the worst delay.
flights %>%
group_by(carrier) %>%
summarize(meandep_delay=mean(dep_delay)) %>%
arrange(desc(meandep_delay))
#carrier HA has the worst delay.
flights %>%
group_by(carrier) %>%
summarize(meandep_delay=mean(dep_delay,,na.rm=TRUE)) %>%
arrange(desc(meandep_delay))
#carrier HA has the single worst delay.
flights %>%
group_by(carrier) %>%
summarize(meandep_delay=mean(dep_delay,na.rm=TRUE)) %>%
arrange(desc(meandep_delay))
#4. challenge
flights %>%
group_by(carrier,dest) %>%
summarize(n())
#4. challenge
flights %>%
group_by(carrier,dest) %>%
summarize(n()) %>%
arrange(desc(n()))
#4. challenge
flights %>%
group_by(carrier,dest) %>%
summarize(n()) %>%
#6. which plane has the worst ontime flight record?
flights %>%
group_by(tailnum) %>%
summarize(meanarr_delay=mean(arr_delay)) %>%
arrange(desc(meanarr_delay))
#4. challenge
flights %>%
group_by(carrier,dest) %>%
summarize(n()) %>%
#6. which plane has the worst ontime flight record?
flights %>%
group_by(tailnum) %>%
summarize(meanarr_delay=mean(arr_delay)) %>%
arrange(desc(meanarr_delay))
#4. challenge
flights %>%
group_by(carrier,dest) %>%
summarize(n())
#5. For each plane count the number of flights before the first delay of greater than 1 hr
flights %>%
group_by(tailnum,dep_time,dep_delay)
#5. For each plane count the number of flights before the first delay of greater than 1 hr
flights %>%
group_by(tailnum) %>%
arrange (dep_time,dep_delay)
#5. For each plane count the number of flights before the first delay of greater than 1 hr
flights %>%
group_by(tailnum) %>%
arrange (dep_delay,dep_time)
#5. For each plane count the number of flights before the first delay of greater than 1 hr
flights %>%
group_by(tailnum) %>%
arrange (dep_time, dep_delay)
#5. For each plane count the number of flights before the first delay of greater than 1 hr
flights %>%
group_by(tailnum) %>%
arrange (dep_time, (dep_delay<=60))
#5. For each plane count the number of flights before the first delay of greater than 1 hr
flights %>%
group_by(tailnum) %>%
arrange (dep_time, dep dep_delay(dep_delay<=60))
#5. For each plane count the number of flights before the first delay of greater than 1 hr
flights %>%
group_by(tailnum) %>%
arrange (dep_time, dep_delay(dep_delay<=60))
#5. For each plane count the number of flights before the first delay of greater than 1 hr
flights %>%
group_by(tailnum) %>%
arrange (dep_time, dep_delay)
flights %>%
group_by(tailnum) %>%
arrange (dep_time, dep_delay) %>%
summarize(dep_delay<=60)
#5. For each plane count the number of flights before the first delay of greater than 1 hr
flights %>%
group_by(tailnum) %>%
arrange (dep_time, dep_delay) %>%
summarize(n())
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (!is.na(DepDelay))
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (!is.na(Dep_Delay))
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (!is.na(dep_delay))
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay))
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
group_by(flight) %>%
summarize(n())
############fix
#3. flights data: numer of flights canceled per day?
canceled<- (flights %>%
filter (is.na(dep_delay)) %>%
group_by(flight))
############fix
#3. flights data: numer of flights canceled per day?
canceled<- (flights %>%
filter (is.na(dep_delay)))
#group_by(flight)
summarize(n(canceled))
View(canceled)
############fix
#3. flights data: numer of flights canceled per day?
canceled<- (flights %>%
filter (is.na(dep_delay)) %>%
summarize(n(canceled)))
############fix
#3. flights data: numer of flights canceled per day?
canceled<- (flights %>%
filter (is.na(dep_delay)) %>%
summarize(n()))
canceled
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
summarize(n())
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (Date=paste(Year,Month,DayofMonth,sep="-")) %>%
summarize(n()) #by monthdayyear
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-")) %>%
summarize(n()) #by monthdayyear
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-"))
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-")) %>%
group_by(date)
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-")) %>%
group_by(date, n())
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-")) %>%
group_by(date, n()) %>%
select(date,n())
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-")) %>%
group_by(date, n()) %>%
summarize(date,n())
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-")) %>%
group_by(date, n())
#5. For each plane count the number of flights before the first delay of greater than 1 hr
flights %>%
group_by(tailnum) %>%
arrange (dep_time, dep_delay) %>%
#summarize(dep_delay<=60)
summarize(n())
#5. For each plane count the number of flights before the first delay of greater than 1 hr
flights %>%
group_by(tailnum) %>%
arrange (dep_time, dep_delay) %>%
#summarize(dep_delay<=60)
#summarize(n())
#6. which plane has the worst ontime flight record?
flights %>%
group_by(tailnum) %>%
summarize(meanarr_delay=mean(arr_delay)) %>%
arrange(desc(meanarr_delay))
#5. For each plane count the number of flights before the first delay of greater than 1 hr
flights %>%
group_by(tailnum) %>%
arrange (dep_time, dep_delay)
#summarize(dep_delay<=60)
#summarize(n())
flights %>%
arrange(tailnum)
#summarize(dep_delay<=60)
#summarize(n())
flights %>%
arrange(tailnum,dep_delay)
#summarize(dep_delay<=60)
#summarize(n())
flights %>%
arrange(tailnum,dep_delay) %>%
select(dep_delay<=60)
#summarize(dep_delay<=60)
#summarize(n())
flights %>%
arrange(tailnum,dep_delay) %>%
summarize(dep_delay<=60)
#summarize(dep_delay<=60)
#summarize(n())
flights %>%
arrange(tailnum,dep_delay) %>%
#dep delay <=60
groupby(tailnum) %>%
summarize(n())
#summarize(dep_delay<=60)
#summarize(n())
flights %>%
arrange(tailnum,dep_delay) %>%
#dep delay <=60
group_by(tailnum) %>%
summarize(n())
#summarize(dep_delay<=60)
#summarize(n())
flights %>%
arrange(tailnum,dep_delay) %>%
filter(dep_delay<=60) #%>%
#summarize(dep_delay<=60)
#summarize(n())
flights %>%
arrange(tailnum,dep_delay) %>%
filter(dep_delay<=60) %>%
group_by(tailnum) %>%
summarize(n())
#6. which plane has the worst ontime flight record?
flights %>%
group_by(tailnum) %>%
summarize(meanarr_delay=mean(arr_delay)) %>%
arrange(desc(meanarr_delay))
#on average, plane N844MH has the worst ontime flight record
flights %>%
group_by(tailnum) %>%
arrange(desc(arr_delay))
#on average, plane N844MH has the worst ontime flight record
flights %>%
group_by(tailnum) %>%
arrange(desc(arr_delay)) %>%
select(arr_delay,tailnum)
#7.What time of day should you fly if you want to avoid delays as much as possible?
flights
flights %>%
select(dep_delay,time_hour)
flights %>%
group_by(time_hour) %>%
summarize(meandep_delay=mean(dep_delay)) %>%
arrange(meandep_delay)
flights %>%
group_by(time_hour) %>%
summarize(meandep_delay=mean(dep_delay)) %>%
arrange(desc(meandep_delay))
flights %>%
group_by(hour) %>%
summarize(meandep_delay=mean(dep_delay)) %>%
arrange(desc(meandep_delay))
flights %>%
group_by(hour) %>%
summarize(meandep_delay=mean(dep_delay, na.rm=TRUE)) %>%
arrange(desc(meandep_delay))
#7.What time of day should you fly if you want to avoid delays as much as possible?
flights %>%
select(hour)
#7.What time of day should you fly if you want to avoid delays as much as possible?
flights %>%
group_by(hour) %>%
summarize(meandep_delay=mean(dep_delay, na.rm=TRUE)) %>%
arrange(desc(meandep_delay))
#7.What time of day should you fly if you want to avoid delays as much as possible?
flights %>%
group_by(hour) %>%
summarize(meandep_delay=mean(dep_delay, na.rm=TRUE)) %>%
arrange((meandep_delay))
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
group_by(dest) %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
summarize(totaldelay=dep_delay+arr_delay)
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
group_by(dest) %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
summarize(totaldelay=(dep_delay+arr_delay))
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
group_by(dest) %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
summarize(totaldelay=(dep_delay+arr_delay,na.rm=TRUE))
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
group_by(dest) %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) #%>%
#7.What time of day should you fly if you want to avoid delays as much as possible?
flights %>%
group_by(hour) %>%
summarize(meandep_delay=mean(dep_delay, na.rm=TRUE)) %>%
arrange((meandep_delay))
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
group_by(dest) %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate(totaldelay=dep_delay+arr_delay) %>%
arrange(totaldelay)
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
group_by(dest) %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate(totaldelay=dep_delay+arr_delay) %>%
arrange(dest)
#7.What time of day should you fly if you want to avoid delays as much as possible?
flights %>%
group_by(hour) %>%
summarize(meandep_delay=mean(dep_delay, na.rm=TRUE)) %>%
arrange((meandep_delay))
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
group_by(dest) %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate(totaldelay=dep_delay+arr_delay) %>%
summarize(totaldelay)
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
group_by(dest) %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate(totaldelay=dep_delay+arr_delay) %>%
arrange(totaldelay)
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate(totaldelay=dep_delay+arr_delay) %>%
group_by(dest)
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate(totaldelay=dep_delay+arr_delay) %>%
group_by(dest) %>%
arrange(totaldelay)
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate(totaldelay=dep_delay+arr_delay) %>%
group_by(dest) %>%
select(totaldelay,dest)
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
group_by(dest) %>%
summarize(totaldelay=dep_delay+arr_delay) %>%
arrange(totaldelay)
#8. For each destination, total minutes of delay?
#For each flight, proportion of total delay for destination?
flights %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate (totaldelay=dep_delay+arr_delay) %>%
group_by(dest) %>%
summarize(sum(totaldelay))
flights
#For each flight, proportion of total delay for its destination?
destdelay<- (flights %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate (totaldelay=dep_delay+arr_delay) %>%
group_by(dest) %>%
summarize(sum(totaldelay)))
#For each flight, proportion of total delay for its destination?
destdelay<- (flights %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate (totaldelay=dep_delay+arr_delay) %>%
group_by(dest) %>%
summarize(sum(totaldelay))
)
#8. For each destination, total minutes of delay?
flights %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate (totaldelay=dep_delay+arr_delay) %>%
group_by(dest) %>%
summarize(sum(totaldelay))
#For each flight, proportion of total delay for its destination?
flights %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate (totaldelay=dep_delay+arr_delay) %>%
group_by(dest) %>%
#summarize(sum(totaldelay)) %>%
mutate( summarize(sum(totaldelay)))
#For each flight, proportion of total delay for its destination?
flights %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate (totaldelay=dep_delay+arr_delay) %>%
group_by(dest) %>%
summarize(sum(totaldelay)) #%>%
#For each flight, proportion of total delay for its destination?
flights %>%
filter(dep_delay>=0) %>%
filter(arr_delay>=0) %>%
mutate (totaldelay=dep_delay+arr_delay) %>%
group_by(dest) %>%
summarize(sum(totaldelay)) %>%
mutate(totaldelay/(sum(totaldelay)))
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-")) %>%
group_by(date, n())
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-")) %>%
group_by(date) %>%
summarize(ncanceled=n())
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-")) %>%
group_by(date) %>%
summarize(ncanceled=((sum(n()))/(n())),na.rm=TRUE)
summarize(ncanceled=sum(n())
summarize(ncanceled=sum(n())
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-")) %>%
group_by(date) %>%
summarize(ncanceled=n())
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-")) %>%
group_by(date) %>%
summarize(ncanceled=n()/sum(ncanceled))
############fix
#3. flights data: numer of flights canceled per day?
flights %>%
filter (is.na(dep_delay)) %>%
mutate (date=paste(year,month,day,sep="-")) %>%
group_by(date) %>%
summarize(ncanceled=n())
flights
#9. Look at each destination. Can you find flights that are suspiciously fast?
flights %>%
group_by(dest) %>%
arrange(desc(air_time))
#9. Look at each destination. Can you find flights that are suspiciously fast?
flights %>%
group_by(dest) %>%
arrange((air_time))
#9. Look at each destination. Can you find flights that are suspiciously fast?
flights %>%
group_by(dest) %>%
arrange((air_time)) %>%
summarise(dest)
